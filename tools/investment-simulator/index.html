<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>積立投資シミュレーター</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 text-gray-800 font-sans">
  <header class="bg-indigo-600 text-white py-6 shadow">
    <div class="max-w-3xl mx-auto text-center">
      <h1 class="text-2xl font-bold">積立投資シミュレーター</h1>
      <p class="mt-1 text-indigo-200">毎月の積立額・初期投資額・利回りを入力して資産の推移を計算</p>
    </div>
  </header>

  <main class="max-w-3xl mx-auto p-6">
    <!-- 入力フォーム -->
    <section class="bg-white p-6 rounded-xl shadow mb-6">
      <h2 class="text-xl font-semibold mb-4">入力</h2>
      <div class="grid grid-cols-1 gap-4">
        <div>
          <label class="block mb-1 font-medium">初期投資額（円）</label>
          <input type="number" id="initial" class="w-full border rounded px-3 py-2" value="100000">
        </div>
        <div>
          <label class="block mb-1 font-medium">毎月の積立額（円）</label>
          <input type="number" id="monthly" class="w-full border rounded px-3 py-2" value="10000">
        </div>
        <div>
          <label class="block mb-1 font-medium">年利回り（％）</label>
          <input type="number" id="rate" class="w-full border rounded px-3 py-2" value="5">
        </div>
        <div>
          <label class="block mb-1 font-medium">運用期間（年）</label>
          <input type="number" id="years" class="w-full border rounded px-3 py-2" value="10">
        </div>
        <button onclick="calculate()" class="mt-4 bg-indigo-600 text-white px-4 py-2 rounded shadow hover:bg-indigo-500 transition">計算</button>
      </div>
    </section>

    <!-- 結果表示 -->
    <section class="bg-white p-6 rounded-xl shadow">
      <h2 class="text-xl font-semibold mb-4">結果</h2>
      <div class="grid grid-cols-1 gap-3">
        <div>累計投資額: <span id="total-investment">0</span> 円</div>
        <div>運用資産額: <span id="total-value">0</span> 円</div>
        <div>利益: <span id="profit">0</span> 円</div>
      </div>
    </section>
  </main>

  <script>
    function calculate() {
      const initial = parseFloat(document.getElementById("initial").value) || 0;
      const monthly = parseFloat(document.getElementById("monthly").value) || 0;
      const rate = parseFloat(document.getElementById("rate").value) / 100;
      const years = parseFloat(document.getElementById("years").value) || 0;

      const months = years * 12;

      let totalValue = initial;
      for (let i = 1; i <= months; i++) {
        totalValue += monthly;
        totalValue *= (1 + rate / 12); // 月利換算
      }

      const totalInvestment = initial + monthly * months;
      const profit = totalValue - totalInvestment;

      document.getElementById("total-investment").textContent = totalInvestment.toLocaleString();
      document.getElementById("total-value").textContent = totalValue.toLocaleString(undefined, {maximumFractionDigits: 0});
      document.getElementById("profit").textContent = profit.toLocaleString(undefined, {maximumFractionDigits: 0});
    }
  </script>
</body>
</html>
